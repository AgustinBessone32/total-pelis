(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{57:function(e,t,n){},61:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n.n(c),s=n(21),i=n.n(s),o=(n(57),n(13)),r=n(22),l=n(12),u=n(51),j=(n(60),u.a.initializeApp({apiKey:"AIzaSyDDas571LTgQFiOgaa1Jz75bPMA6TUU_8s",authDomain:"total-pelis-8a824.firebaseapp.com",projectId:"total-pelis-8a824",storageBucket:"total-pelis-8a824.appspot.com",messagingSenderId:"67292744132",appId:"1:67292744132:web:cb600661fd81c18c1e7c91"}).auth()),d=(n(61),n(17)),b=n.n(d),h=(n(79),"https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=f3e32df54960b38fb814c3b24b0097d0&page=1"),p="https://image.tmdb.org/t/p/w1280",m="https://total-pelis.herokuapp.com",O=(n(80),n(4)),f=function(e){var t,n=e.movie,c=Object(l.e)();return Object(O.jsxs)("div",{className:"card-content",onClick:function(){return c.push("/total-pelis/home/movie/".concat(n.id))},children:[n.poster_path?Object(O.jsx)("img",{src:p+n.poster_path}):Object(O.jsx)("img",{src:"https://images.unsplash.com/photo-1585951237318-9ea5e175b891?ixid=\r MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&\r fit=crop&w=750&q=80"}),Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsx)("p",{children:n.title}),Object(O.jsx)("p",{className:"vote ".concat((t=n.vote_average,t<=4?"red":t>4&&t<8?"orange":"green")," "),children:n.vote_average})]})]})},v=n(27),x=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1];Object(c.useEffect)((function(){b.a.get(h).then((function(e){return a(e.data.results)}))}),[]);return Object(O.jsxs)("div",{className:"content-all",children:[Object(O.jsxs)("div",{className:"content-inp-sb",children:[Object(O.jsx)(v.b,{className:"ic-search"}),Object(O.jsx)("input",{type:"text",onChange:function(e){var t;""!==(t=e.target.value)?b.a.get("https://api.themoviedb.org/3/search/movie?&api_key=f3e32df54960b38fb814c3b24b0097d0&query="+t).then((function(e){return a(e.data.results)})):b.a.get(h).then((function(e){return a(e.data.results)}))},placeholder:"Ingrese la pelicula...",className:"inp-sb"})]}),Object(O.jsx)("div",{className:"content-cards",children:0===n.length?Object(O.jsxs)("div",{className:"div-err",children:[Object(O.jsx)("h2",{children:"Busqueda sin resultados"}),Object(O.jsx)("img",{src:"https://www.inacatalog.com/hubfs/Imported_Blog_Media/Errores-tipicos-en-las-ventas-2.jpg"})]}):n.map((function(e){return Object(O.jsx)(f,{movie:e})}))})]})},g=(n(86),n(87),n(23)),N=function(e){var t,n=e.movie,a=e.user,s=Object(l.e)(),i=Object(g.useToasts)().addToast,r=Object(c.useState)(!0),u=Object(o.a)(r,2),j=u[0],d=u[1];return Object(O.jsx)("div",{className:"content-all-fav ".concat((t=j,t?"":"none")),children:Object(O.jsxs)("div",{className:"content-fav",children:[Object(O.jsx)("img",{src:p+n.image,onClick:function(){return s.push("/total-pelis/home/movie/".concat(n.idMovie))}}),Object(O.jsx)("p",{children:n.name}),Object(O.jsx)("button",{className:"btn-del-fav",onClick:function(){return e=n.idMovie,void b()({method:"delete",url:m+"/deleteFav/".concat(a,"/").concat(e)}).then((function(){return i("Pelicula borrada de favoritos",{appearance:"info",autoDismiss:!0})})).then((function(){return d(!1)})).catch((function(e){return console.log(e)}));var e},children:"Borrar de favoritos"})]})})},w=function(e){var t=e.user,n=(Object(l.e)(),Object(c.useState)([])),a=Object(o.a)(n,2),s=a[0],i=a[1];return Object(c.useEffect)((function(){b()({method:"get",url:m+"/showMovies/".concat(t)}).then((function(e){return i(e.data)}))}),[]),Object(O.jsx)("div",{className:"content-allFavs",children:(null===s||void 0===s?void 0:s.length)?s.map((function(e){return Object(O.jsx)(N,{movie:e,user:t})})):Object(O.jsx)("h3",{className:"fav-err",children:"No tenes favoritos todavia"})})},C=(n(94),function(){var e=Object(l.e)();return Object(O.jsxs)("div",{className:"content-home",children:[Object(O.jsx)("h3",{children:"Disfruta toda la informacion de las mejores peliculas"}),Object(O.jsx)("div",{className:"div-name",onClick:function(){return e.push("/total-pelis/login")},children:"Presiona para continuar"})]})}),k=(n(95),function(){var e=Object(g.useToasts)().addToast,t=Object(l.e)(),n=Object(c.useState)(!1),a=Object(o.a)(n,2),s=(a[0],a[1],Object(c.useState)("")),i=Object(o.a)(s,2),r=i[0],u=i[1],d=Object(c.useState)(""),h=Object(o.a)(d,2),p=h[0],f=h[1],v=function(t){t.preventDefault(),j.createUserWithEmailAndPassword(r,p).then((function(e){return b()({method:"post",url:m+"/addUser/".concat(e.user.email)})})).then((function(){return e("Registro exitoso! Por favor inicie sesion",{appearance:"success",autoDismiss:!0})})).catch((function(t){"auth/invalid-email"===t.code&&e("Email incorrecto, porfavo ingrese otro",{appearance:"error",autoDismiss:!0}),"auth/weak-password"===t.code&&e("Ingrese una contrase\xf1a con 6 o mas caracteres",{appearance:"error",autoDismiss:!0})}))};return Object(O.jsx)("div",{className:"login-content",children:Object(O.jsxs)("div",{className:"form-content",children:[Object(O.jsx)("h3",{className:"login-title",children:"Total Pelis"}),Object(O.jsxs)("form",{onSubmit:v,children:[Object(O.jsx)("input",{type:"text",placeholder:"Ingrese el usuario",onChange:function(e){return u(e.target.value)}}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{type:"password",placeholder:"Ingrese la contrase\xf1a",onChange:function(e){return f(e.target.value)}}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{type:"submit",onClick:function(){return v},className:"btn-reg",children:" Registrarse "}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{onClick:function(n){n.preventDefault(),j.signInWithEmailAndPassword(r,p).then((function(){return e("Inicio de sesi\xf3n exitoso",{appearance:"success",autoDismiss:!0})})).then((function(){return t.push("/total-pelis/home")})).catch((function(t){"auth/wrong-password"===t.code?e("Contrase\xf1a incorrecta",{appearance:"error",autoDismiss:!0}):e("El usuario no se encuentra registrado",{appearance:"error",autoDismiss:!0})}))},className:"btn-log",children:" Iniciar Sesi\xf3n "})]})]})})}),D=(n(96),function(){var e,t=Object(g.useToasts)().addToast,n=window.location.pathname.split("/")[4],a=Object(c.useState)(!1),s=Object(o.a)(a,2),i=s[0],r=s[1],l=Object(c.useState)([]),u=Object(o.a)(l,2),d=u[0],h=u[1],f=Object(c.useState)(null),v=Object(o.a)(f,2),x=v[0],N=v[1];return Object(c.useEffect)((function(){b.a.get("https://api.themoviedb.org/3/movie/".concat(n,"?api_key=f3e32df54960b38fb814c3b24b0097d0")).then((function(e){return h(e.data)})),j.onAuthStateChanged((function(e){e&&N(e.email)}))}),[]),Object(O.jsx)("div",{className:"md-con",children:Object(O.jsxs)("div",{className:"movie-detail-content",children:[Object(O.jsx)("div",{className:"img-movie",children:Object(O.jsx)("img",{src:p+d.poster_path})}),Object(O.jsxs)("div",{className:"movie-detail",children:[Object(O.jsx)("h2",{children:d.title}),Object(O.jsx)("div",{className:"div-md",children:Object(O.jsx)("p",{children:d.overview})}),Object(O.jsxs)("h3",{className:"md-vote ".concat((e=d.vote_average,e<=4?"red":e>4&&e<8?"orange":"green")," "),children:["Calificacion ",d.vote_average]}),null!==x?!1===i?Object(O.jsx)("button",{className:"btn-fav",onClick:function(){return e=n,c=d.poster_path,a=d.title,r(!0),void b()({method:"put",url:m+"/addFav/".concat(x,"/").concat(e).concat(c,"/").concat(a)}).then((function(){return t("Pelicula a\xf1adida a favoritos",{appearance:"success",autoDismiss:!0})})).catch((function(e){return console.log(e)}));var e,c,a},children:"A\xf1adir a Favoritos"}):Object(O.jsx)("span",{className:"spn-err",children:"En favoritos!"}):Object(O.jsx)("span",{className:"spn-err",children:"Inicia sesion a\xf1ardila a favoritos"})]})]})})}),S=(n(97),n(36)),_=n(25),y=function(){var e=Object(l.e)(),t=Object(c.useState)(null),n=Object(o.a)(t,2),a=n[0],s=n[1],i=window.screen.width;Object(c.useEffect)((function(){j.onAuthStateChanged((function(e){e&&s(e.email)}))}),[]);var r=function(){j.signOut(),s(null),e.push("/total-pelis/login")};return Object(O.jsxs)("div",{className:"content-nav",children:[Object(O.jsxs)("a",{className:"nav-logo",onClick:function(){return e.push("/total-pelis/home")},children:[Object(O.jsx)(v.a,{}),"Total Pelis"]}),null!==a?Object(O.jsxs)("div",{className:"log-con",children:[Object(O.jsxs)("span",{className:"txt-nav",children:["\xa1Hola  ",a,"!"]}),i>450?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:"btn-nav-fav",onClick:function(){return e.push("/total-pelis/home/favorites")},children:"Mis favoritos"}),Object(O.jsx)("button",{className:"btn-nav",onClick:r,children:"Cerrar sesi\xf3n"})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(_.d,{className:"btn-nav-res",onClick:function(){return e.push("/total-pelis/home/favorites")}}),Object(O.jsx)(S.b,{className:"btn-nav-res",onClick:r})]})]}):Object(O.jsx)(O.Fragment,{children:i>450?Object(O.jsx)("button",{className:"btn-nav-g",onClick:function(){return e.push("/total-pelis/login")},children:"Iniciar sesi\xf3n"}):Object(O.jsx)(S.a,{className:"btn-nav-res",onClick:function(){return e.push("/total-pelis/login")}})})]})},I=(n(98),function(){return Object(O.jsxs)("div",{className:"content-all-footer",children:[Object(O.jsxs)("div",{className:"content-copy",children:[Object(O.jsx)(_.c,{})," 2021 , Agustin Bessone"]}),Object(O.jsxs)("div",{className:"content-social",children:[Object(O.jsx)("a",{href:"https://github.com/AgustinBessone32",target:"_blank",children:Object(O.jsx)(_.a,{className:"icn-soc"})}),Object(O.jsx)("a",{href:"https://www.linkedin.com/in/agustinbessone/",target:"_blank",children:Object(O.jsx)(_.b,{className:"icn-soc"})})]})]})});var T=function(){var e=Object(c.useState)(null),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){j.onAuthStateChanged((function(e){e&&a(e.email)}))}),[]),Object(O.jsx)("div",{className:"App",children:Object(O.jsxs)(r.a,{children:[Object(O.jsx)(l.a,{exact:!0,path:"/total-pelis/login",children:Object(O.jsx)(k,{})}),Object(O.jsx)(l.a,{exact:!0,path:"/total-pelis/",children:Object(O.jsx)(C,{})}),Object(O.jsx)(l.a,{path:"/total-pelis/home",children:Object(O.jsx)(y,{})}),Object(O.jsx)(l.a,{path:"/total-pelis/home/movie/:id",children:Object(O.jsx)(D,{})}),Object(O.jsx)(l.a,{exact:!0,path:"/total-pelis/home",children:Object(O.jsx)(x,{})}),Object(O.jsx)(l.a,{exact:!0,path:"/total-pelis/home/favorites",children:Object(O.jsx)(w,{user:n})}),Object(O.jsx)(l.a,{path:"/total-pelis/home",children:Object(O.jsx)(I,{})})]})})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,100)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(g.ToastProvider,{autoDismiss:!0,autoDismissTimeout:3e3,placement:"bottom-center",children:Object(O.jsx)(T,{})})}),document.getElementById("root")),A()}},[[99,1,2]]]);
//# sourceMappingURL=main.98e00a5e.chunk.js.map