(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{57:function(e,t,a){},61:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n=a(3),c=a.n(n),s=a(21),i=a.n(s),o=(a(57),a(14)),r=a(24),l=a(12),u=a(51),j=(a(60),u.a.initializeApp({apiKey:"AIzaSyDDas571LTgQFiOgaa1Jz75bPMA6TUU_8s",authDomain:"total-pelis-8a824.firebaseapp.com",projectId:"total-pelis-8a824",storageBucket:"total-pelis-8a824.appspot.com",messagingSenderId:"67292744132",appId:"1:67292744132:web:cb600661fd81c18c1e7c91"}).auth()),d=(a(61),a(17)),b=a.n(d),h=(a(79),"https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=f3e32df54960b38fb814c3b24b0097d0&page=1"),p="https://image.tmdb.org/t/p/w1280",m="http://localhost:4000",f=(a(80),a(4)),v=function(e){var t,a=e.movie,n=Object(l.e)();return Object(f.jsxs)("div",{className:"card-content",onClick:function(){return n.push("/total-pelis/home/movie/".concat(a.id))},children:[a.poster_path?Object(f.jsx)("img",{src:p+a.poster_path}):Object(f.jsx)("img",{src:"https://images.unsplash.com/photo-1585951237318-9ea5e175b891?ixid=\r MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&\r fit=crop&w=750&q=80"}),Object(f.jsxs)("div",{className:"card-body",children:[Object(f.jsx)("p",{children:a.title}),Object(f.jsx)("p",{className:"vote ".concat((t=a.vote_average,t<=4?"red":t>4&&t<8?"orange":"green")," "),children:a.vote_average})]})]})},O=a(26),x=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){b.a.get(h).then((function(e){return c(e.data.results)}))}),[]);return Object(f.jsxs)("div",{className:"content-all",children:[Object(f.jsxs)("div",{className:"content-inp-sb",children:[Object(f.jsx)(O.b,{className:"ic-search"}),Object(f.jsx)("input",{type:"text",onChange:function(e){var t;""!==(t=e.target.value)?b.a.get("https://api.themoviedb.org/3/search/movie?&api_key=f3e32df54960b38fb814c3b24b0097d0&query="+t).then((function(e){return c(e.data.results)})):b.a.get(h).then((function(e){return c(e.data.results)}))},placeholder:"Ingrese la pelicula...",className:"inp-sb"})]}),Object(f.jsx)("div",{className:"content-cards",children:0===a.length?Object(f.jsxs)("div",{className:"div-err",children:[Object(f.jsx)("h2",{children:"Busqueda sin resultados"}),Object(f.jsx)("img",{src:"https://www.inacatalog.com/hubfs/Imported_Blog_Media/Errores-tipicos-en-las-ventas-2.jpg"})]}):a.map((function(e){return Object(f.jsx)(v,{movie:e})}))})]})},g=(a(86),a(87),a(22)),N=function(e){var t,a=e.movie,c=e.user,s=Object(g.useToasts)().addToast,i=Object(n.useState)(!0),r=Object(o.a)(i,2),l=r[0],u=r[1];return Object(f.jsx)("div",{className:"content-all-fav ".concat((t=l,t?"":"none")),children:Object(f.jsxs)("div",{className:"content-fav",children:[Object(f.jsx)("img",{src:p+a.image}),Object(f.jsx)("p",{children:a.name}),Object(f.jsx)("button",{className:"btn-del-fav",onClick:function(){return e=a.idMovie,void b()({method:"delete",url:m+"/deleteFav/".concat(c,"/").concat(e)}).then((function(){return s("Pelicula borrada de favoritos",{appearance:"info",autoDismiss:!0})})).then((function(){return u(!1)})).catch((function(e){return console.log(e)}));var e},children:"Borrar de favoritos"})]})})},w=function(e){var t=e.user,a=(Object(l.e)(),Object(n.useState)([])),c=Object(o.a)(a,2),s=c[0],i=c[1];return Object(n.useEffect)((function(){b()({method:"get",url:m+"/showMovies/".concat(t)}).then((function(e){return i(e.data)}))}),[]),Object(f.jsx)("div",{className:"content-allFavs",children:(null===s||void 0===s?void 0:s.length)?s.map((function(e){return Object(f.jsx)(N,{movie:e,user:t})})):Object(f.jsx)("h3",{className:"fav-err",children:"No tenes favoritos todavia"})})},C=(a(94),function(){var e=Object(l.e)();return Object(f.jsxs)("div",{className:"content-home",children:[Object(f.jsx)("h3",{children:"Disfruta toda la informacion de las mejores peliculas"}),Object(f.jsx)("div",{className:"div-name",onClick:function(){return e.push("/total-pelis/login")},children:"Presiona para continuar"})]})}),D=(a(95),function(){var e=Object(g.useToasts)().addToast,t=Object(l.e)(),a=Object(n.useState)(""),c=Object(o.a)(a,2),s=c[0],i=c[1],r=Object(n.useState)(""),u=Object(o.a)(r,2),d=u[0],h=u[1];return Object(f.jsx)("div",{className:"login-content",children:Object(f.jsxs)("div",{className:"form-content",children:[Object(f.jsx)("h3",{className:"login-title",children:"Total Pelis"}),Object(f.jsxs)("form",{onSubmit:function(t){t.preventDefault(),j.createUserWithEmailAndPassword(s,d).then((function(e){return b()({method:"post",url:m+"/addUser/".concat(e.user.email)})})).then((function(){return e("Registro exitoso! Por favor inicie sesion",{appearance:"success",autoDismiss:!0})})).catch((function(t){"auth/email-already-in-use"===t.code&&e("Email ya registrado",{appearance:"error",autoDismiss:!0}),"auth/invalid-email"===t.code&&e("Email incorrecto, porfavo ingrese otro",{appearance:"error",autoDismiss:!0}),"auth/weak-password"===t.code&&e("Ingrese una contrase\xf1a con 6 o mas caracteres",{appearance:"error",autoDismiss:!0})}))},children:[Object(f.jsx)("input",{type:"text",placeholder:"Ingrese el usuario",onChange:function(e){return i(e.target.value)}}),Object(f.jsx)("br",{}),Object(f.jsx)("input",{type:"password",placeholder:"Ingrese la contrase\xf1a",onChange:function(e){return h(e.target.value)}}),Object(f.jsx)("br",{}),Object(f.jsx)("button",{type:"submit",className:"btn-reg",children:" Registrarse "}),Object(f.jsx)("br",{}),Object(f.jsx)("button",{onClick:function(){j.signInWithEmailAndPassword(s,d).then((function(){return e("Inicio de sesi\xf3n exitoso",{appearance:"success",autoDismiss:!0})})).then((function(){return t.push("/total-pelis/home")})).catch((function(t){"auth/wrong-password"===t.code?e("Contrase\xf1a incorrecta",{appearance:"error",autoDismiss:!0}):e("El usuario no se encuentra registrado",{appearance:"error",autoDismiss:!0})}))},className:"btn-log",children:" Iniciar Sesi\xf3n "})]})]})})}),k=(a(96),function(){var e,t=Object(g.useToasts)().addToast,a=window.location.pathname.split("/")[4],c=Object(n.useState)([]),s=Object(o.a)(c,2),i=s[0],r=s[1],l=Object(n.useState)(null),u=Object(o.a)(l,2),d=u[0],h=u[1];return Object(n.useEffect)((function(){b.a.get("https://api.themoviedb.org/3/movie/".concat(a,"?api_key=f3e32df54960b38fb814c3b24b0097d0")).then((function(e){return r(e.data)})),j.onAuthStateChanged((function(e){e&&h(e.email)}))}),[]),Object(f.jsx)("div",{className:"md-con",children:Object(f.jsxs)("div",{className:"movie-detail-content",children:[Object(f.jsx)("div",{className:"img-movie",children:Object(f.jsx)("img",{src:p+i.poster_path})}),Object(f.jsxs)("div",{className:"movie-detail",children:[Object(f.jsx)("h2",{children:i.title}),Object(f.jsx)("div",{className:"div-md",children:Object(f.jsx)("p",{children:i.overview})}),Object(f.jsxs)("h3",{className:"md-vote ".concat((e=i.vote_average,e<=4?"red":e>4&&e<8?"orange":"green")," "),children:["Calificacion ",i.vote_average]}),null!==d?Object(f.jsx)("button",{className:"btn-fav",onClick:function(){return e=a,n=i.poster_path,c=i.title,void b()({method:"put",url:m+"/addFav/".concat(d,"/").concat(e).concat(n,"/").concat(c)}).then((function(){return t("Pelicula a\xf1adida a favoritos",{appearance:"success",autoDismiss:!0})})).catch((function(e){return console.log(e)}));var e,n,c},children:"A\xf1adir a Favoritos"}):Object(f.jsx)("span",{className:"spn-err",children:"Inicia sesion a\xf1ardila a favoritos"})]})]})})}),S=(a(97),a(35)),y=a(50),I=function(){var e=Object(l.e)(),t=Object(n.useState)(null),a=Object(o.a)(t,2),c=a[0],s=a[1],i=window.screen.width;Object(n.useEffect)((function(){j.onAuthStateChanged((function(e){e&&s(e.email)}))}),[]);var r=function(){j.signOut(),s(null),e.push("/total-pelis/login")};return Object(f.jsxs)("div",{className:"content-nav",children:[Object(f.jsxs)("a",{className:"nav-logo",onClick:function(){return e.push("/total-pelis/home")},children:[Object(f.jsx)(O.a,{}),"Total Pelis"]}),null!==c?Object(f.jsxs)("div",{className:"log-con",children:[Object(f.jsxs)("span",{className:"txt-nav",children:["\xa1Hola  ",c,"!"]}),i>450?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("button",{className:"btn-nav-fav",onClick:function(){return e.push("/total-pelis/home/favorites")},children:"Mis favoritos"}),Object(f.jsx)("button",{className:"btn-nav",onClick:r,children:"Cerrar sesi\xf3n"})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(y.a,{className:"btn-nav-res",onClick:function(){return e.push("/total-pelis/home/favorites")}}),Object(f.jsx)(S.b,{className:"btn-nav-res",onClick:r})]})]}):Object(f.jsx)(f.Fragment,{children:i>450?Object(f.jsx)("button",{className:"btn-nav-g",onClick:function(){return e.push("/total-pelis/login")},children:"Iniciar sesi\xf3n"}):Object(f.jsx)(S.a,{className:"btn-nav-res",onClick:function(){return e.push("/total-pelis/login")}})})]})};var _=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){j.onAuthStateChanged((function(e){e&&c(e.email)}))}),[]),Object(f.jsx)("div",{className:"App",children:Object(f.jsxs)(r.a,{children:[Object(f.jsx)(l.a,{exact:!0,path:"/total-pelis/login",children:Object(f.jsx)(D,{})}),Object(f.jsx)(l.a,{exact:!0,path:"/total-pelis/",children:Object(f.jsx)(C,{})}),Object(f.jsx)(l.a,{path:"/total-pelis/home",children:Object(f.jsx)(I,{})}),Object(f.jsx)(l.a,{path:"/total-pelis/home/movie/:id",children:Object(f.jsx)(k,{})}),Object(f.jsx)(l.a,{exact:!0,path:"/total-pelis/home",children:Object(f.jsx)(x,{})}),Object(f.jsx)(l.a,{exact:!0,path:"/total-pelis/home/favorites",children:Object(f.jsx)(w,{user:a})})]})})},T=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,99)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),s(e),i(e)}))};i.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(g.ToastProvider,{autoDismiss:!0,autoDismissTimeout:3e3,placement:"bottom-center",children:Object(f.jsx)(_,{})})}),document.getElementById("root")),T()}},[[98,1,2]]]);
//# sourceMappingURL=main.d98aaf21.chunk.js.map